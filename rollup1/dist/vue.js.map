{"version":3,"file":"vue.js","sources":["../src/observe/array.js","../src/observe/dep.js","../src/observe/index.js","../src/state.js","../src/compiler/parse.js","../src/compiler/generate.js","../src/compiler/index.js","../src/vnode/index.js","../src/patch/index.js","../src/observe/watcher.js","../src/lifecycle.js","../src/init.js","../src/index.js"],"sourcesContent":["const originMethods = Array.prototype\r\nconst arrayMethods = Object.create(originMethods) // originMethods最为对象原型\r\n// console.log(arrayMethods)\r\nconst rewriteMethods = ['push', 'pop', 'shift', 'unshift', 'reverse', 'sort', 'splice'] // 会改变原数组的方法\r\n\r\nrewriteMethods.forEach(mehtod => {\r\n  arrayMethods[mehtod] = function (...argues) {\r\n    // 如果当前被改变的数组是对象，则需要对对象进行劫持\r\n    let insert\r\n    switch (mehtod) {\r\n      case 'push':\r\n      case 'unshift':\r\n        insert = argues\r\n        break\r\n      case 'splice':\r\n        insert = argues.slice(2)\r\n        break\r\n    }\r\n    if (insert) {\r\n      this.__ob__.observeArray(insert)\r\n    }\r\n\r\n    // 调用以前的方法\r\n    let result =  originMethods[mehtod].call(this, ...argues)\r\n    return result\r\n  }\r\n})\r\n\r\nexport default arrayMethods","\r\nlet id = 0\r\nclass Dep {\r\n  constructor () {\r\n    this.id = id++\r\n    this.subs = []\r\n  }\r\n  depend() {\r\n    if (Dep.target) {\r\n      Dep.target.addDep(this)\r\n    }\r\n  }\r\n  addSub(watcher) {\r\n    this.subs.push(watcher)\r\n  }\r\n  notify() {\r\n    this.subs.forEach(watcher => watcher.update())\r\n  }\r\n}\r\n\r\nDep.target = null\r\n\r\nexport default Dep","import arrayMethods from \"./array\"\r\nimport Dep from \"./dep\"\r\n\r\nclass Observe {\r\n  constructor(value) {\r\n    // 设置监听属性判断是否已经被劫持\r\n    Object.defineProperty(value, '__ob__', {\r\n      enumerable: false,\r\n      value: this,\r\n    })\r\n    \r\n    if (Array.isArray(value)) {\r\n      // 重写数组方法\r\n      value.__proto__ = arrayMethods\r\n      // arrayMethods.observeArray = this.observeArray\r\n      // 数组\r\n      this.observeArray(value)\r\n    } else {\r\n      // 对象\r\n      this.walk(value)\r\n    }\r\n  }\r\n  \r\n  walk (value) {\r\n    Object.keys(value).forEach(item => defineReactive(value, item, value[item]))\r\n  }\r\n  observeArray (value) {\r\n \r\n    // value.forEach(item => observe(item))\r\n    for (let i = 0; i < value.length; i++) {\r\n      observe(value[i])\r\n    }\r\n  }\r\n}\r\n\r\nfunction observe(value) {\r\n  // 如果是原始值直接就返回值了\r\n  if (typeof value !== 'object' || value == null) {\r\n    return;\r\n  }\r\n  if (value.__Ob__ instanceof Observe) {\r\n    return value.__Ob__\r\n  }\r\n  const ob = new Observe(value)\r\n}\r\n\r\nfunction defineReactive(data, key, value) {\r\n  observe(value)\r\n  let dep = new Dep()\r\n  Object.defineProperty(data, key, {\r\n    get () {\r\n    \r\n      // 每个dep里有许多watcher，watcher里面有更新视图的功能函数\r\n      dep.depend()\r\n      return value\r\n    },\r\n    set (newValue) {\r\n   \r\n      // 当数据改变时，通知改变\r\n      dep.notify()\r\n      value = newValue\r\n    }\r\n  })\r\n}\r\n\r\nexport { observe }","import { observe } from \"./observe/index\"\r\n\r\nfunction initState(vm) {\r\n  // console.log(vm)\r\n  // debugger\r\n  const opts = vm.$options\r\n  if (opts.data) {\r\n    initData(vm)\r\n  }\r\n\r\n}\r\n\r\nfunction initData(vm) {\r\n  let data = vm.$options.data\r\n  // data是函数或者对象\r\n  data = typeof data === 'function' ? data.call(vm) : data || {}\r\n  // 将data挂在到vm上\r\n  vm._data = data\r\n  // 对_data进行代理 vm. = vm._data.\r\n  proxy(vm, \"_data\");\r\n  // 监听\r\n  observe(data)\r\n\r\n}\r\n\r\n\r\nfunction proxy (vm, prop) {\r\n  const data = vm._data\r\n  for (let key in data) {\r\n    Object.defineProperty(vm, key, {\r\n      get () {\r\n        return vm[prop][key]\r\n      },\r\n      set (newVal) {\r\n        if (vm[prop][key] === newVal) return\r\n        vm[prop][key] = newVal\r\n      }\r\n    })\r\n  }\r\n}\r\nexport default initState","\r\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`;   // 小a-z 大A到Z 标签名称： div  span a-aa\r\n//?: 匹配不捕获\r\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; // 捕获这种 <my:xx> </my:xx>\r\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 标签开头的正则 捕获的内容是标签名\r\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配标签结尾的 </div>\r\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // 匹配属性的\r\n//属性匹配   <div id=\"atts\"></div>  // aa = \"aa\" | aa = 'aa'\r\nconst startTagClose = /^\\s*(\\/?)>/; // 匹配标签结束的  <div></div>  <br/>\r\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g // {{xx}}  默认的 双大括号\r\n//vue3 一摸一样的\r\nfunction createASTELement(tagName, attrs) {\r\n    return {\r\n        tag: tagName, //标签名称\r\n        type: 1, //元素类型\r\n        children: [],// 孩子列表\r\n        attrs,   //属性集合\r\n        parent: null  // 父元素\r\n    }\r\n}\r\nlet root,\r\n    currentParent,\r\n    stack = []\r\nfunction start (tagName, attrs) {\r\n    let element = createASTELement(tagName, attrs)\r\n    if (!root) {\r\n        root = element\r\n    }\r\n    currentParent = element\r\n    stack.push(element)\r\n}\r\nfunction end () {\r\n    // 从栈中取出一个\r\n    const element = stack.pop()\r\n    currentParent = stack[stack.length - 1]\r\n    if (currentParent) {\r\n        element.parent = currentParent\r\n        currentParent.children.push(element)\r\n    }\r\n}\r\nfunction chars (text) {\r\n    // console.log(text)\r\n    text = text.replace(/\\s/g, '')\r\n    if (text) {\r\n        currentParent.children.push({\r\n            type: 3, //元素类型\r\n            text,// 孩子列表\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport function parseHTML(html) {\r\n    //1解析标签  <div id=\"my\">hello {{name}} <span>world</span></div>\r\n    while (html) { // 只要html 不为空字符串就一直执行下去\r\n        let textEnd = html.indexOf('<');\r\n        if (textEnd === 0) {\r\n\r\n            const startTagMatch = parseStartTag() //开始标签匹配结果\r\n            if (startTagMatch) {\r\n                start(startTagMatch.tagName, startTagMatch.attrs)\r\n                \r\n                continue; //中断（循环中）的一个迭代，如果发生指定的条件。然后继续循环中的下一个迭代。\r\n            }\r\n            \r\n            const endTagMatch = html.match(endTag)\r\n            if (endTagMatch) {\r\n                end()\r\n                advance(endTagMatch[0].length)\r\n                continue\r\n            }\r\n            // console.log(html)\r\n        }\r\n        //文本 \r\n        let text;\r\n        if (textEnd > 0) {\r\n            // console.log(textEnd)\r\n            text = html.substring(0, textEnd)\r\n            if (text) {//处理文本\r\n                chars(text)\r\n                advance(text.length)\r\n               \r\n            }\r\n           \r\n        }\r\n    }\r\n    //删除标签\r\n    function advance(n) { //将字符串进行截取操作，再跟新到html\r\n        html = html.substring(n)\r\n\r\n    }\r\n\r\n    function parseStartTag() {\r\n        const start = html.match(startTagOpen)\r\n        if (start) {\r\n            const match = {\r\n                tagName: start[1],\r\n                attrs: []\r\n            }\r\n            advance(start[0].length)\r\n            /**\r\n             *  复杂写法\r\n             *  let end = html.match(startTagClose),\r\n             *  attr = attr = html.match(attribute)\r\n             *  // 匹配到attr但是没有匹配到闭合标签,循环匹配attr并将其push进attrs\r\n             *  while(!end && attr) {\r\n             *     console.log(attr)\r\n             *     match.attrs.push({name: attr[1], value: attr[3] || attr[4] || attr[5] })\r\n             *     advance(attr[0].length)\r\n             *     end = html.match(startTagClose)\r\n             *     attr = attr = html.match(attribute)\r\n             *  }\r\n             */\r\n            let end,\r\n                attr\r\n            // 匹配到attr但是没有匹配到闭合标签,循环匹配attr并将其push进attrs\r\n            while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) {\r\n                match.attrs.push({ name: attr[1], value: attr[3] || attr[4] || attr[5] })\r\n                advance(attr[0].length)\r\n            }\r\n            // 匹配到闭合标签结束处理\r\n            if (end) {\r\n                advance(end[0].length)\r\n                return match\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n    return root\r\n}","//思路\r\n//  <div id=\"app\" style=\"color:red\"> hello {{name}}<p>hello1</P> </div>\r\n//变成 render()\r\n// render(){\r\n//      return _c(\"div\",{id:\"app\",style:{color:\"res\"}},_v('hello'+_s(name)),_c('p'，null,_v('hello1)))\r\n//    }\r\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g; //注意正则匹配 lastIndex\r\n\r\n// attrs\r\nfunction genProps(attrs) {\r\n    //处理属性\r\n    let str = ''\r\n    for (let i = 0; i < attrs.length; i++) {\r\n        let attr = attrs[i]\r\n        //注意;   style：\"color:red;font-size: 20px\r\n        if (attr.name === 'style') {\r\n            let obj = {} //对样式进行特殊处理\r\n            attr.value.split(';').forEach(item => {\r\n                let [key, value] = item.split(':')\r\n                obj[key] = value\r\n            })\r\n            attr.value = obj //\r\n        }\r\n        //其他  'id:app',注意最后会多个属性化 逗号\r\n        str += `${attr.name}:${JSON.stringify(attr.value)},`\r\n    }\r\n    return `{${str.slice(0, -1)}}`  // -1为最后一个字符串的位置  演示一下 \r\n    // let reg =/a/g    reg.test('ad') false  \r\n}\r\n\r\nfunction genChildren (children) {\r\n    if (children) {\r\n       let res =  children.map(child => gen(child))\r\n        return res.join(',')\r\n    }\r\n}\r\nfunction gen(node) { //获取到的元素\r\n    //注意 是什么类型  文本   div\r\n    if (node.type === 1) {\r\n        return generate(node) //生成元素节点的字符串\r\n    } else {\r\n        let text = node.text // 获取文本  注意  普通的文本  hello{{name}}?{{num}}\r\n        if (!defaultTagRE.test(text)) {\r\n            return `_v(${JSON.stringify(text)})`  // _v(html)  _v('hello'+_s(name))\r\n        }\r\n        let tokens = [] //存放每一段的代码\r\n        let lastIndex = defaultTagRE.lastIndex = 0;//如果正则是全局模式 需要每次使用前变为0\r\n        let match;// 每次匹配到的结果  exec 获取 {{name}}\r\n        while (match = defaultTagRE.exec(text)) {\r\n            // console.log(match) 获取到 又{{}}  元素\r\n            //  console.log(match)\r\n           let index = match.index;// 保存匹配到的索引\r\n          // hello{{name}} ? {{num}}\r\n            if (index > lastIndex) {\r\n               tokens.push(JSON.stringify(text.slice(lastIndex,index))) //添加的是文本\r\n            //    console.log(tokens)\r\n            }\r\n            //{{name}} 添加{{}} aa\r\n            tokens.push(`_s(${match[1].trim()})`)\r\n             lastIndex = index+match[0].length //最后 {{}} 索引位置\r\n        }\r\n        if(lastIndex<text.length){\r\n           tokens.push(JSON.stringify(text.slice(lastIndex))) \r\n        }\r\n        //最终返回出去\r\n\r\n        return `_v(${tokens.join(\"+\")})`\r\n    }\r\n\r\n\r\n}\r\n//语法层面的转移\r\nexport function generate(el) {\r\n\r\n    //方法 拼接字符串  源码也是这样操作 [{}]    ${el.attrs.length?`{style:{color:red}}`:'undefined'}\r\n    let code = `_c('${el.tag}', ${el.attrs ? genProps(el.attrs) : null}, ${el.children ? genChildren(el.children) : null})`\r\n    /**\r\n     *   root         prop         child                                        child          \r\n     * _c('div', {id: 'app'},_c('div', null, _v(_s(name)+ \"jello\" + _s(age)), _c('div'))\r\n     * \r\n     */\r\n  return code\r\n}","/**\r\n * 过程：\r\n * 1.把真实dom变成ast语法树(vnode)\r\n * 2.把vNode编程render函数\r\n * 3.再执行render函数变成真实dom\r\n */\r\nimport { parseHTML } from \"./parse.js\"\r\nimport { generate } from \"./generate.js\"\r\n\r\nfunction compileToFunction(template) {\r\n  // console.log(template)\r\n  // 创建ast语法树\r\n  const ast = parseHTML(template)\r\n\r\n  // 把语法树变成字符串\r\n  const code = generate(ast)\r\n\r\n  // // 将字符串变成render函数,模板引擎with + new Function() {}\r\n  const render = new Function(`with(this){return ${code}}`)\r\n  // // console.log(render)\r\n  \r\n  return render\r\n}\r\n\r\n// let obj = {a: 1}\r\n// with (obj) {\r\n//   console.log(a)\r\n// }\r\nexport default compileToFunction ","\r\n// 创建标签\r\nfunction createElementVNode (tag, props, ...children) {\r\n  return vnode(tag, props, props.key, children)\r\n}\r\n// 创建文本\r\nfunction createText (text) {\r\n  return vnode(undefined, undefined, undefined, undefined, text)\r\n}\r\nfunction vnode (tag, props, key, children, text) {\r\n  return {\r\n   tag,\r\n   props,\r\n   key,\r\n   children,\r\n   text\r\n  }\r\n }\r\n\r\n export {createElementVNode, createText}","function patch(root, vonde) {\r\n  const { tag, el, props, children, text, key } = vonde\r\n  let newEle = createDom(tag, props, children, text, key)\r\n  // console.log(root.nextSibling.nextSibling, '1')\r\n  // console.log(root.previousSibling , '2')\r\n  // 该节点的下一个节点\r\n  document.body.insertBefore(newEle, root.nextSibling)\r\n  document.body.removeChild(root)\r\n  return newEle\r\n}\r\n\r\nfunction createDom(tag, props, children, text, key) {\r\n  let contain\r\n  if (tag) {\r\n    contain = document.createElement(tag)\r\n  } else {\r\n    contain = document.createTextNode(text)\r\n  }\r\n  if (key) {\r\n    contain.setAttribute('key', key)\r\n  }\r\n  if (props) {\r\n    for (let k in props) {\r\n      if (k !== 'style') {\r\n        contain.setAttribute(k, props[k])\r\n      } else {\r\n        for (let p in props['style']) {\r\n          const pName = p.trim()\r\n          contain['style'][pName] = props['style'][p]\r\n        }\r\n      }\r\n    }\r\n  }\r\n  if (children && children.length > 0) {\r\n    children.forEach(child => {\r\n      const { tag, el, props, children, text, key } = child\r\n      const childDom = createDom(tag, props, children, text, key)\r\n      contain.appendChild(childDom)\r\n    })\r\n  }\r\n  return contain\r\n}\r\n\r\nexport { patch }","import Dep from \"./dep\"\r\n\r\n\r\nlet id = 0\r\nclass Watcher {\r\n  constructor(vm, fn, boolean) {\r\n    this.id = id++\r\n    this.getter = fn\r\n    this.deps = []\r\n    this.depIds = new Set()\r\n    this.get()\r\n  }\r\n  get() {\r\n    Dep.target = this\r\n    this.getter()\r\n    Dep.target = null\r\n  }\r\n  addDep(dep) {\r\n    const id = dep.id\r\n    if (!this.depIds.has(id)) {\r\n      this.depIds.add(id)\r\n      this.deps.push(dep)\r\n      dep.addSub(this)\r\n    }\r\n  }\r\n  update() {\r\n    // console.log('update')\r\n    // this.getter()\r\n    handleQueue(this)\r\n  }\r\n  run() {\r\n    console.log('update')\r\n    this.getter()\r\n  }\r\n}\r\n\r\nlet queue = []\r\nlet pending = false\r\nlet has = {}\r\nfunction fluseQueue () {\r\n  let nowQueue = queue.slice(0)\r\n  queue = []\r\n  pending = false\r\n  nowQueue.forEach(watcher => watcher.run())\r\n}\r\nfunction handleQueue(watcher) {\r\n  const id = watcher.id\r\n  if (!has[id]) {\r\n    queue.push(watcher)\r\n    has[id] = true\r\n    if (!pending) {\r\n      setTimeout(fluseQueue)\r\n      pending = true\r\n    }\r\n  }\r\n}\r\n\r\nexport default Watcher\r\n","import { createElementVNode, createText } from \"./vnode/index\"\r\nimport { patch } from \"./patch/index\"\r\nimport Watcher from \"./observe/watcher\"\r\n\r\n\r\nfunction initlifeCycle(Vue) {\r\n  Vue.prototype._update = function (vnode) {\r\n   \r\n    const vm = this\r\n\r\n    const el = vm.$el\r\n\r\n    vm.$el = patch(el, vnode)\r\n\r\n  },\r\n    Vue.prototype._render = function () {\r\n      const vm = this\r\n      const vnode = vm.$options.render.call(vm)\r\n      return vnode\r\n\r\n    },\r\n    Vue.prototype._c = function () {\r\n      // 创建标签\r\n      return createElementVNode(...arguments)\r\n\r\n    }\r\n  Vue.prototype._s = function (value) {\r\n    return value\r\n  }\r\n  Vue.prototype._v = function () {\r\n    return createText(...arguments)\r\n  }\r\n}\r\n\r\nfunction mountComponent(vm, el) {\r\n\r\n  vm.$el = el\r\n  \r\n  // vm._render()，将render函数变成虚拟dom\r\n  // // vm_update将虚拟dom变成真实dom\r\n  let updateComponent = () => {\r\n    vm._update(vm._render())\r\n  }\r\n  new Watcher(vm, updateComponent, true)\r\n}\r\n\r\n\r\nexport { mountComponent, initlifeCycle }","import initState from \"./state\"\r\nimport compileToFunction from \"./compiler/index\"\r\nimport { mountComponent } from \"./lifecycle\"\r\n\r\nfunction initMixin(Vue) {\r\n  Vue.prototype._init = function (options) {\r\n    // 指向Vue构造函数\r\n    const vm = this\r\n    vm.$options = options\r\n    initState(vm)\r\n    if (options.el) {\r\n      vm.$mount(options.el)\r\n    }\r\n  }\r\n  Vue.prototype.$mount = function (el) {\r\n    let vm = this,\r\n      opts = vm.$options,\r\n      template\r\n    el = document.querySelector(el)\r\n    if (!opts.render) {\r\n      if (!opts.template && el) {\r\n        template = el.outerHTML\r\n      } else {\r\n        template = opts.template\r\n      }\r\n    } else {\r\n      template = opts.render\r\n    }\r\n    if (template) {\r\n      // 转化成render函数\r\n      const render = compileToFunction(template)\r\n      opts.render = render\r\n      // vm.render =  mountComponent.bind(vm, vm, vm.$el)\r\n    }\r\n    mountComponent(vm, el) // 组件挂载\r\n  }\r\n}\r\n\r\nexport { initMixin }","import { initMixin } from \"./init\"\r\nimport  {initlifeCycle} from \"./lifecycle\"\r\n\r\nfunction Vue(options) {\r\n  // 调用原型上的方法，但是this指向的是构造函数Vue\r\n  this._init(options);\r\n}\r\n\r\ninitMixin(Vue)\r\ninitlifeCycle(Vue)\r\n\r\nexport default Vue"],"names":["originMethods","Array","prototype","arrayMethods","Object","create","rewriteMethods","forEach","mehtod","_originMethods$mehtod","insert","_len","arguments","length","argues","_key","slice","__ob__","observeArray","result","call","apply","concat","id","Dep","_classCallCheck","subs","_createClass","key","value","depend","target","addDep","addSub","watcher","push","notify","update","Observe","defineProperty","enumerable","isArray","__proto__","walk","keys","item","defineReactive","i","observe","_typeof","__Ob__","data","dep","get","set","newValue","initState","vm","opts","$options","initData","_data","proxy","prop","_loop","newVal","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","createASTELement","tagName","attrs","tag","type","children","parent","root","currentParent","stack","start","element","end","pop","chars","text","replace","parseHTML","html","textEnd","indexOf","startTagMatch","parseStartTag","endTagMatch","match","advance","substring","n","attr","name","defaultTagRE","genProps","str","obj","split","_item$split","_item$split2","_slicedToArray","JSON","stringify","genChildren","res","map","child","gen","join","node","generate","test","tokens","lastIndex","exec","index","trim","el","code","compileToFunction","template","ast","render","Function","createElementVNode","props","vnode","createText","undefined","patch","vonde","newEle","createDom","document","body","insertBefore","nextSibling","removeChild","contain","createElement","createTextNode","setAttribute","k","p","pName","childDom","appendChild","Watcher","fn","boolean","getter","deps","depIds","Set","has","add","handleQueue","run","console","log","queue","pending","fluseQueue","nowQueue","setTimeout","initlifeCycle","Vue","_update","$el","_render","_c","_s","_v","mountComponent","updateComponent","initMixin","_init","options","$mount","querySelector","outerHTML"],"mappings":"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"}